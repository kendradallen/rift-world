const okButton = document.getElementById("daSubmit"); function openStory(e, t) { var s, a, r; for (a = document.getElementsByClassName("tabcontent"), s = 0; s < a.length; s++)a[s].style.display = "none"; for (r = document.getElementsByClassName("tablinks"), s = 0; s < r.length; s++)r[s].className = r[s].className.replace(" active", ""); document.getElementById(t).style.display = "block", $(e.currentTarget).addClass("active") } $("#RumorText").keyup(function (e) { var t = 300 - $(this).val().length; $("#tc-Rumor").html(t), t < 0 ? ($("#tcp-Rumor").addClass("invalid"), okButton.disabled = !0) : ($("#tcp-Rumor").removeClass("invalid"), okButton.disabled = !1) }), $("#RumorCreateForm").submit(function (e) { var t = $(this).serializeArray(); return e.preventDefault, $("#MessageContentRu").html("<div class= 'alert alert-info'>Please Wait...</div>"), $.ajax({ url: "/Rumors/CreateRumor", type: "POST", data: t, dataType: "json", error: function (e) { $("#MessageContentRu").html("<div class= 'alert alert-danger'>There was an error. Please try again or contact site administrator.</div>") }, success: function (e) { $("#MessageContentRu").html("<div class= 'alert alert-success'>You've successfully started the seed of a rumor; let's see if it grows.<br/>(Your rumor is awaiting approval)</div>"), $("#RumorCreateForm")[0].reset(), $("#make-rumor").hide() } }), !1 }), $("#secret p").click(function () { $(this).addClass("revealed") }), $(document).ready(function () { $(".more").each(function () { var e = $(this).children().first().text(), t = $(this).text(), s = $(this).html(); if (t.length > 300) { var a = "<p>" + e.substr(0, 300) + '<span class="moreellipses">...</span></p><span class="morecontent"><span>' + e.substr(300, s.length - 300) + "</span><span>" + s + '</span>&nbsp;&nbsp;<a href="" class="morelink">Show more ></a></span>'; $(this).html(a) } }), $(".morelink").click(function () { return $(this).hasClass("less") ? ($(this).removeClass("less"), $(this).html("Show more >")) : ($(this).addClass("less"), $(this).html("Show less")), $(this).parent().prev().toggle(), $(this).prev().toggle(500), !1 }) });