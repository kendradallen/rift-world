<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="A hub of information for the D&D world of Caerithein">
    <meta name="keywords" content="html, D&D, wiki-like, creative, community, secrets">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>@ViewBag.Title | Caerithein</title>

    <!-- Google Font -->
    @*<link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,600,700,800,900&display=swap"
        rel="stylesheet">*@
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Grenze+Gotisch:wght@100;200;300;400;500;600;700;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Tangerine" rel="stylesheet">

    <!-- Css Styles -->

    <link rel="stylesheet" href="~/Content/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="~/Content/css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="~/Content/css/magnific-popup.css" type="text/css">
    <link rel="stylesheet" href="~/Content/css/slicknav.min.css" type="text/css">
    <link rel="stylesheet" href="~/Content/css/style.css" type="text/css">

    <!-- Slim Select -->
    <link rel="stylesheet" href="~/Content/SelectBoxes/slimselect.min.css" />

    <link rel="stylesheet" href="~/Content/SelectBoxes/multi.css" />
    <link rel="stylesheet" href="~/Content/custom.css" />
    @RenderSection("styles", required: false)

</head>

<body>
    <!-- Page Preloder -->
    <div id="preloder">
        <div class="loader"></div>
    </div>

    <!-- TODO dynamic active status for current menu button  -->
    <!-- Humberger Menu Begin -->
    <div class="humberger-menu-overlay"></div>
    <div class="humberger-menu-wrapper">
        <div class="logo">
            <a href="@Url.Action("Index", "Home")" style="filter:invert(1);"><img src="~/Content/img/logo.png" style="filter: drop-shadow(2px 4px 0px white);" /></a>
        </div>
        <div class="hw-menu mobile-menu">
            <ul>
                <li><a href="@Url.Action("Index", "Home")"><span>Home</span></a></li>
                <li>
                    <a href="@Url.Action("Explore", "Home")"><span>Explore <i class="fa fa-angle-down"></i></span></a>
                    <ul class="dropdown">
                        <li><a href="@Url.Action("Index", "NPCs")">NPCs</a></li>
                        <li><a href="@Url.Action("Index", "Locales")">Locales</a></li>
                        <li><a href="@Url.Action("Index", "Rifts")">Rifts</a></li>
                        <li><a href="@Url.Action("Index", "Items")">Items</a></li>
                        <li><a href="@Url.Action("Index", "Orgs")">Organizations</a></li>
                        <li><a href="@Url.Action("Index", "Events")">Events</a></li>
                        <li><a href="@Url.Action("Index", "Lores")">Other</a></li>
                    </ul>
                </li>
                <li><a href="@Url.Action("Index", "Characters")"><span>Hall of Heroes</span></a></li>
                <li><a href="@Url.Action("Community", "Home")"><span>Community</span></a></li>

                @if (Request.IsAuthenticated && User.IsInRole("Admin"))
                {
                    <li>
                        <a href="#"><span>Admin <i class="fa fa-angle-down"></i></span></a>
                        <ul class="dropdown">
                            <li>@Html.ActionLink("Users", "Index", "UsersAdmin")</li>
                            <li><a href="@Url.Action("StyleGuide", "Home")">Style guide</a></li>
                            <li><a href="@Url.Action("Todo", "Infos")">Todo</a></li>
                            <li><a href="@Url.Action("BTSIndex", "Home")">BTS Lists</a></li>
                        </ul>
                    </li>
                }

            </ul>
        </div>
        <div id="mobile-menu-wrap"></div>
        <div class="hw-copyright">
            Copyright &copy;
            <script>document.write(new Date().getFullYear());</script> Kendra Allen and Colorlib Inc. All rights reserved
        </div>
        <div class="hw-social">
            <a target="_blank" href="https://discord.gg/fHtqEdf"><i class="fab fa-discord"></i></a>
            <a target="_blank" href="https://www.ko-fi.com/sparklyandglitter"><img src="~/Content/img/Ko-fi_Icon_RGB_stroke.png" /></a>
            <a target="_blank" href="http://instagram.com/sparklyandglitter"><i class="fab fa-instagram"></i></a>
            <a target="_blank" href="mailto:katherine.linquist@hotmail.com"><i class="far fa-envelope"></i></a>
        </div>
    </div>
    <!-- Humberger Menu End -->
    <!-- Header Section Begin -->
    <header class="header-section" id="tipity-topity">
        <div class="ht-options">
            <div class="pls-style">
                <div class="row">
                    <div class="col-lg-6 col-md-8">
                        <div class="ht-widget">
                            <ul>
                                <li>@Html.Partial("_LoginPartial")</li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-4">
                        <div class="ht-social">
                            <a target="_blank" href="https://discord.gg/fHtqEdf"><i class="fab fa-discord"></i></a>
                            <a target="_blank" href="https://www.ko-fi.com/sparklyandglitter"><img src="~/Content/img/Ko-fi_Icon_RGB_stroke_smol.png" style="height:19px;" /></a>
                            <a target="_blank" href="http://instagram.com/sparklyandglitter"><i class="fab fa-instagram"></i></a>
                            <a target="_blank" href="mailto:katherine.linquist@hotmail.com"><i class="far fa-envelope"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="logo">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12 text-center">
                        <a href="@Url.Action("Index", "Home")" style="filter:invert(1);"><img src="~/Content/img/logo.png" style="filter: drop-shadow(2px 4px 0px white);"/></a>
                    </div>
                </div>
            </div>
        </div>
        <div class="nav-options">
            <div>
                <div class="humberger-menu humberger-open">
                    <i class="fa fa-bars"></i>
                </div>
                <div class="nav-search search-switch">
                    <i class="fa fa-search"></i>
                </div>
                <div class="nav-menu">
                    <ul>
                        @* NTS: the "span" for the buttons IS required for template style *@
                        <li><a href="@Url.Action("Index", "Home")"><span>Home</span></a></li>
                        <li>
                            <a href="@Url.Action("Explore", "Home")"><span>Explore <i class="fa fa-angle-down"></i></span></a>
                            <ul class="dropdown">
                                <li><a href="@Url.Action("Index", "NPCs")">NPCs</a></li>
                                <li><a href="@Url.Action("Index", "Locales")">Locales</a></li>
                                <li><a href="@Url.Action("Index", "Rifts")">Rifts</a></li>
                                <li><a href="@Url.Action("Index", "Items")">Items</a></li>
                                <li><a href="@Url.Action("Index", "Orgs")">Organizations</a></li>
                                <li><a href="@Url.Action("Index", "Events")">Events</a></li>
                                <li><a href="@Url.Action("Index", "Lores")">Other</a></li>
                            </ul>
                        </li>
                        <li><a href="@Url.Action("Index", "Characters")"><span>Hall of Heroes</span></a></li>
                        <li><a href="@Url.Action("Community", "Home")"><span>Community</span></a></li>

                        @if (Request.IsAuthenticated && User.IsInRole("Admin"))
                        {
                            <li>
                                <a href="#"><span>Admin <i class="fa fa-angle-down"></i></span></a>
                                <ul class="dropdown">
                                    <li>@Html.ActionLink("Users", "Index", "UsersAdmin")</li>
                                    <li><a href="@Url.Action("StyleGuide", "Home")">Style guide</a></li>
                                    <li><a href="@Url.Action("Todo", "Infos")">Todo</a></li>
                                    <li><a href="@Url.Action("BTSIndex", "Home")">BTS Lists</a></li>
                                </ul>
                            </li>
                        }

                    </ul>
                </div>
            </div>
        </div>
    </header>
    <!-- Header End -->
    <!-- Main section here!!! -->
    <main style="position:relative;">
        <nav id="mySidenav" class="sidenav">
        </nav>
        <div class="sneaky-shadow container">
            <article class="container" id="content">
                <div class="row">

                    @RenderBody()
                </div>
                <div id="MessageDisplay" class="row">
                    <div id="MessageContent" class="col-md-10 col-md-offset-1">

                    </div>
                </div>
            </article>
        </div>
    </main>

    <!-- Footer Section Begin -->
    <footer class="footer-section">
        <div class="" style="    background: radial-gradient(circle, rgba(0, 212,255,.5) 37%, rgba(89,13,147,0.5) 67%);
">
            <div class="copyright-area pls-style" style="font-size:17px;">
                <div class="row align-items-center">
                    <div class="col-lg-6">
                        <div class="">
                            <p>
                                <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                                Copyright &copy;
                                <script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made by <a target="_blank" href="https://www.kendra-allen.com">Kendra Allen</a> based off of <a href="https://colorlib.com" target="_blank">Colorlib</a>
                                <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                            </p>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="ca-links">
                            <a href="@Url.Action("Index", "Home")">Home</a>
                            <a href="@Url.Action("Explore", "Home")">Explore</a>
                            <a href="@Url.Action("Index", "Characters")">Hall of Heroes</a>
                            <a href="@Url.Action("Community", "Home")">Community</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- Footer Section End -->

    <!-- Search model Begin -->
    <div class="search-model">
        <div class="h-100 d-flex align-items-center justify-content-center">
            <div class="search-close-switch">+</div>
            <form action="/Infos/Search" method="get" class="search-model-form">
                <input type="text" id="search-input" name="Search" placeholder="Search here.....">
            </form>
        </div>
    </div>
    <!-- Search model end -->
    <!-- Js Plugins -->
    @*@Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @Scripts.Render("~/bundles/genTemScript.js")*@
    <script src="~/Scripts/jquery-3.5.1.min.js"></script>
    <script src="~/Scripts/bootstrap.bundle.min.js"></script>
    <script src="~/Scripts/js/jquery.magnific-popup.min.js"></script>
    <script src="~/Scripts/js/jquery.slicknav.js"></script>
    <script src="~/Scripts/js/main.js"></script>
    <script src="https://kit.fontawesome.com/f715f63fba.js" crossorigin="anonymous"></script>


    <!-- Tiny -->
    @*<script src="~/Scripts/tinymce/tinymce.min.js"></script>*@
    @*<script src="~/Scripts/SelectBoxes/slimselect.min.js"></script>*@

    @RenderSection("Scripts", required: false)

    <script>
        $(function () {
            $('.nav-menu li').each(function () {
                if ($(this).find('a').attr('href') == window.location.pathname) {
                    $(this).addClass('active');
                }
            })
        })
    </script>

    <script>

        var counter = 0;
        $("section").each(function () {
            var id = $(this).attr("id");
            var name = $(this).attr("name");
            var top = 20 + 60 * counter;
            var adjust = $("header").outerHeight();
            $("#mySidenav").append('<a href="#' + id + '" id="' + id + '-nav" style="top:' + top + 'px;">' + name + '</a>');
            counter++;
            window.addEventListener("scroll", event => {
                let fromTop = window.scrollY - adjust + 4;
                let daLink = document.querySelector("#mySidenav a#" + id + "-nav");
                let section = document.querySelector(daLink.hash);

                if (
                    section.offsetTop <= fromTop &&
                    section.offsetTop + section.offsetHeight > fromTop
                ) {
                    daLink.classList.add("active");
                } else {
                    daLink.classList.remove("active");
                }

            })
        })
        //smooth scrolling
        // Select all »a« elements with a parent class »links« and add a function that is executed on click
        $('.sidenav a').on('click', function (e) {

            // Define variable of the clicked »a« element (»this«) and get its href value.
            var href = $(this).attr('href');

            // Run a scroll animation to the position of the element which has the same id like the href value.
            $('html, body').animate({
                scrollTop: $(href).offset().top
            }, '300');

            // Prevent the browser from showing the attribute name of the clicked link in the address bar
            e.preventDefault();

        });

    </script>


</body>

</html>